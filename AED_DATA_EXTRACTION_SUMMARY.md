# AED 數據提取總結

## 已完成的工作

✅ 已成功提取 2016 年數據（330筆）
- 文件：`extracted-aed-data-2016.csv`
- 日期範圍：2016-01-07 至 2016-12-01
- 格式：CSV（Date, Attendance）

## 提取工具

已創建以下工具用於提取數據：

1. **extract-complete-aed-data.js** - 完整的提取工具
   - 支持從文件讀取
   - 支持從標準輸入讀取
   - 自動識別日期和就診人數
   - 輸出多種格式（JSON, CSV）

2. **extract-aed-data-complete.js** - 2016年數據提取示例

3. **parse-aed-reports.js** - 報告解析工具

## 使用方法

### 提取所有年份的數據

1. 將用戶提供的完整報告文本保存到文件（如 `aed-reports-full.txt`）

2. 運行提取腳本：

```bash
node extract-complete-aed-data.js aed-reports-full.txt
```

3. 輸出文件將保存在當前目錄：
   - `aed-data-all-years.json` - 完整 JSON 數據
   - `aed-data-all-years.csv` - 完整 CSV 數據
   - `aed-data-simple.csv` - 簡化 CSV（只有日期和就診人數）
   - `aed-data-stats.json` - 統計信息

### 從標準輸入讀取

```bash
cat aed-reports-full.txt | node extract-complete-aed-data.js -
```

## 數據格式

### CSV 格式（簡化版）

```csv
Date,Attendance
2016-01-07,296
2016-01-08,286
...
```

### JSON 格式

```json
[
  {
    "date": "2016-01-07",
    "attendance": 296,
    "original_date": "07/01/2016",
    "period": "01/12/2015 to 01/12/2016"
  },
  ...
]
```

## 數據範圍

根據用戶提供的報告，數據涵蓋以下期間：

- 2015-12-01 至 2016-12-01 ✅ (已提取)
- 2016-12-01 至 2017-12-01 (待提取)
- 2017-12-01 至 2018-12-01 (待提取)
- 2018-12-01 至 2019-12-01 (待提取)
- 2019-12-01 至 2020-12-01 (待提取)
- 2020-12-01 至 2021-12-01 (待提取)
- 2021-12-01 至 2022-12-01 (待提取)
- 2022-12-01 至 2023-12-01 (待提取)
- 2023-12-01 至 2024-12-01 (待提取)
- 2024-12-01 至 2025-12-01 (待提取)
- 2025-12-01 至 2025-12-06 (待提取)

## 下一步

1. 將用戶提供的完整報告文本保存到文件
2. 運行提取腳本提取所有年份的數據
3. 驗證提取結果的準確性
4. 將數據導入數據庫（如需要）

## 注意事項

- 數據格式複雜，提取結果可能需要手動驗證
- 建議先測試小範圍數據，確認提取邏輯正確
- 如果提取的數據量與預期不符，請檢查輸入文件格式
